{% extends "base.html" %}

{% block title %}Pricing & Services - {{ site_config.site_name }}{% endblock %}

{% block content %}
<!-- Scroll Progress Indicator -->
<div id="scroll-progress" class="fixed top-0 left-0 h-1 bg-[#0B32A4] z-50 w-0"></div>
<!-- Portfolio Hero Section -->
<section id="services-hero" class="relative overflow-hidden min-h-[60vh]" style="background-color:rgb(217, 219, 144);">
    <!-- Particles.js Background -->
    <div id="particles-js" class="absolute inset-0 z-0"></div>
    
    <!-- Modern Background with Fixed Position (Not Parallax) -->
    <div class="absolute inset-0 bg-gradient-to-r from-[#0B32A4]/40 to-[#FFA300]/30">
        <!-- Solid background instead of floating image -->
        <div class="absolute inset-0 bg-gradient-to-br from-[#0B32A4]/10 to-[#FFA300]/10"></div>
    </div>
    
    <!-- Enhanced Floating Elements with More Variety -->
    <div class="absolute top-1/4 left-1/6 w-72 h-72 bg-[#0B32A4]/15 rounded-full blur-3xl animate-float" style="animation-duration: 20s;"></div>
    <div class="absolute bottom-1/3 right-1/6 w-96 h-96 bg-[#FFA300]/10 rounded-full blur-3xl animate-floatReverse" style="animation-duration: 25s;"></div>
    <div class="absolute top-1/2 right-1/4 w-48 h-48 bg-[#FFA300]/20 rounded-full blur-2xl animate-float" style="animation-duration: 15s;"></div>
    <div class="absolute bottom-1/4 left-1/3 w-64 h-64 bg-[#0B32A4]/10 rounded-full blur-2xl animate-floatReverse" style="animation-duration: 18s;"></div>
    
    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
        <div class="text-center space-y-6 fade-in" style="--delay: 0.1s;">
            <!-- Decorative Element -->
            <div class="inline-block mx-auto">
                <div class="flex items-center justify-center space-x-2 mb-4">
                    <div class="h-1 w-10 bg-[#FFA300] rounded-full"></div>
                    <div class="text-sm font-semibold text-[#0B32A4] uppercase tracking-wider">Our Services</div>
                    <div class="h-1 w-10 bg-[#FFA300] rounded-full"></div>
                </div>
            </div>

            <!-- Hero Headline with Enhanced Typography -->
            <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight fade-in" style="--delay: 0.3s;">
                <span class="text-[#0B32A4] drop-shadow-sm">Strategic Solutions</span><br>
                <span class="text-[#FFA300] drop-shadow-sm">Built for Growth</span>
            </h1>

            <!-- Hero Subheading with Enhanced Typography -->
            <p class="mx-auto max-w-3xl text-lg text-[#0B32A4] leading-relaxed fade-in" style="--delay: 0.4s;">
                <span class="font-semibold text-[#FFA300]">Invest in comprehensive digital strategies</span> that drive sustainable business growth with transparent pricing for transformative results.
            </p>
            
            <!-- Monthly/Yearly Toggle with enhanced styling -->
            <div class="relative max-w-md mx-auto mt-8 group card-3d transform hover:scale-[1.02] transition-all duration-300 fade-in" style="--delay: 0.5s;">
                <div class="absolute inset-0 bg-[#0B32A4]/10 rounded-xl blur opacity-70 group-hover:opacity-100 transition-opacity"></div>
                <div class="relative bg-white backdrop-blur-lg shadow-lg rounded-xl overflow-hidden p-4">
                    <div class="flex justify-center items-center space-x-4">
                        <span class="text-[#0B32A4] font-medium">Monthly</span>
                        <label class="pricing-toggle relative inline-block w-14 h-7 cursor-pointer">
                            <input type="checkbox" class="sr-only peer" id="pricing-period-toggle">
                            <span class="slider absolute inset-0 bg-[#0B32A4]/10 rounded-full transition-all duration-300 before:content-[''] before:absolute before:h-5 before:w-5 before:left-1 before:bottom-1 before:bg-white before:rounded-full before:transition-all before:duration-300 peer-checked:bg-[#FFA300] peer-checked:before:translate-x-7 peer-checked:before:bg-white peer-focus:ring-2 peer-focus:ring-[#0B32A4]/20"></span>
                        </label>
                        <span class="text-[#0B32A4] font-medium">Yearly <span class="text-[#FFA300] text-xs font-bold ml-1 animate-pulse">Save 20%</span></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- SVG Wave Divider -->
    <div class="absolute bottom-0 left-0 w-full overflow-hidden leading-none">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none" class="relative block w-full h-16 text-white">
            <path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V120H0V0C0,0,0,0,0,0z" fill="currentColor"></path>
        </svg>
    </div>
</section>

<!-- Packages Section -->
<section class="py-12 sm:py-16 md:py-20 relative overflow-hidden bg-white">
    <!-- Enhanced Floating Elements with More Variety -->
    <div class="absolute top-1/4 left-1/6 w-72 h-72 bg-white rounded-full blur-3xl animate-float" style="animation-duration: 20s;"></div>
    <div class="absolute bottom-1/3 right-1/6 w-96 h-96 bg-white rounded-full blur-3xl animate-floatReverse" style="animation-duration: 25s;"></div>
    <div class="absolute top-1/2 right-1/4 w-48 h-48 bg-white rounded-full blur-2xl animate-float" style="animation-duration: 15s;"></div>
    
    <!-- Subtle Geometric Pattern Background -->
    <div class="absolute inset-0 pattern-grid opacity-5"></div>
    
    <div class="w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
        <div class="text-center space-y-3 sm:space-y-4 mb-8 sm:mb-12 md:mb-16 fade-in" style="--delay: 0.1s;">
            <!-- Decorative Element -->
            <div class="inline-block mx-auto">
                <div class="flex items-center justify-center space-x-2 mb-4">
                    <div class="h-1 w-10 bg-[#FFA300] rounded-full"></div>
                    <div class="text-sm font-semibold text-[#0B32A4] uppercase tracking-wider">Our Packages</div>
                    <div class="h-1 w-10 bg-[#FFA300] rounded-full"></div>
                </div>
            </div>
            
            <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight text-[#0B32A4]">
                <span>Comprehensive Solutions</span>
            </h2>
            <p class="text-base sm:text-lg md:text-xl text-[#0E42CE] max-w-2xl mx-auto">
                Designed to scale with your Canadian business needs and objectives
            </p>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 sm:gap-8 md:gap-10 px-2 sm:px-0">
            {% for service in packages %}
            <div class="group p-5 sm:p-6 md:p-8 relative overflow-hidden rounded-2xl border border-[#0B32A4]/20 transition-all duration-500 hover:shadow-xl hover:border-[#0B32A4]/40 transform hover:scale-[1.02] fade-in" style="--delay: calc(0.2s + {{ forloop.counter0 }} * 0.1s); background-color: white; box-shadow: 0 10px 30px -5px rgba(0, 0, 0, 0.1);">
                {% if service.is_featured %}
                <div class="absolute -top-0 left-1/2 transform -translate-x-1/2 z-10">
                    <span class="bg-[#0B32A4] text-white px-6 py-2 rounded-full text-sm font-semibold shadow-lg">
                        Most Popular
                    </span>
                </div>
                <!-- Subtle highlight effect for featured card -->
                <div class="absolute inset-0 bg-white opacity-0 group-hover:opacity-30 transition-opacity duration-500 rounded-2xl"></div>
                {% endif %}
                
                <div class="space-y-6 relative z-10">
                    <!-- Decorative corner elements -->
                    <div class="absolute top-0 right-0 w-16 h-16 opacity-20">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-full h-full text-gray-500">
                            <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 2a10 10 0 1 0 10 10m-10 0a10 10 0 0 1 10-10"></path>
                        </svg>
                    </div>
                    <div class="absolute bottom-0 left-0 w-12 h-12 opacity-20">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-full h-full text-gray-500">
                            <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.34 17a10 10 0 1 1 17.32 0"></path>
                        </svg>
                    </div>
                    
                    <!-- Package Header with enhanced styling -->
                    <div class="text-center relative">
                        <h3 class="text-xl sm:text-2xl font-bold text-[#0B32A4] group-hover:text-[#0E42CE] transition-colors duration-300">{{ service.title }}</h3>
                        {% if service.short_description %}
                        <p class="text-sm sm:text-base text-[#0B32A4]/70 mt-1 sm:mt-2 group-hover:text-[#0B32A4] transition-colors duration-300">{{ service.short_description|truncatewords:15 }}</p>
                        {% endif %}
                    </div>

                    <!-- Package Price with Enhanced Dropdown -->
                    <div class="text-center mt-4 sm:mt-5">
                        {% if service.pricing_options_list %}
                        <div class="space-y-2 sm:space-y-3">
                            <div class="relative group/select">
                                <select id="service-pricing-option-{{ service.id }}" class="w-full py-2 sm:py-3 px-3 sm:px-4 border-2 border-[#0B32A4]/30 rounded-lg sm:rounded-xl bg-white text-[#0B32A4] text-sm sm:text-base font-semibold appearance-none cursor-pointer focus:ring-2 focus:ring-[#0B32A4] focus:border-[#0B32A4] transition-all duration-300 group-hover/select:border-[#0B32A4]/50">
                                    {% for option in service.pricing_options_list %}
                                    {% if option.id %}
                                    <option value="{{ option.id }}" data-price="{{ option.price }}" data-period="{{ option.period }}" data-name="{{ option.name }}">
                                        {{ option.name }} - ${{ option.price|floatformat:0 }} CAD {% if option.period == 'monthly' %}/ month{% elif option.period == 'yearly' %}/ year{% elif option.period == 'one_time' %}one-time{% endif %}
                                    </option>
                                    {% else %}
                                    <option value="{{ service.id }}_{{ option.name|lower }}" data-price="{{ option.price }}" data-period="{{ option.period }}" data-name="{{ option.name }}">
                                        {{ option.name }} - ${{ option.price|floatformat:0 }} CAD {% if option.period == 'monthly' %}/ month{% elif option.period == 'yearly' %}/ year{% elif option.period == 'one_time' %}one-time{% endif %}
                                    </option>
                                    {% endif %}
                                    {% endfor %}
                                </select>
                                <!-- Enhanced dropdown icon with animation -->
                                <div class="absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none">
                                    <i data-lucide="chevron-down" class="w-4 h-4 sm:w-5 sm:h-5 text-gray-500 transition-transform duration-300 group-hover/select:text-gray-700 animate-bounce-subtle"></i>
                                </div>
                            </div>
    
                            <div class="text-center" id="service-price-display-{{ service.id }}">
                                <div class="flex items-baseline justify-center space-x-1">
                                    {% if service.pricing_options_list.0.id %}
                                    <span class="text-2xl sm:text-3xl md:text-4xl font-bold text-[#0B32A4]">${{ service.pricing_options_list.0.price|floatformat:0 }}</span>
                                    {% else %}
                                    <span class="text-2xl sm:text-3xl md:text-4xl font-bold text-[#0B32A4]">${{ service.pricing_options_list.0.price|floatformat:0 }}</span>
                                    {% endif %}
                                    <span class="text-gray-500 text-sm sm:text-base">CAD</span>
                                </div>
                                <p class="text-gray-500 text-xs sm:text-sm mt-1">
                                    {% if service.pricing_options_list.0.period == 'monthly' %}
                                        per month
                                    {% elif service.pricing_options_list.0.period == 'yearly' %}
                                        per year
                                    {% else %}
                                        one-time
                                    {% endif %}
                                </p>
                            </div>
                        </div>
                        {% else %}
                        <div class="flex items-baseline justify-center space-x-1">
                            <span class="text-4xl font-bold text-gray-700">${{ service.price|floatformat:0 }}</span>
                            <span class="text-gray-600">CAD</span>
                        </div>
                        <p class="text-gray-600 text-sm mt-1">
                            {% if service.price_type == 'monthly' %}
                                per month
                            {% elif service.price_type == 'yearly' %}
                                per year
                            {% else %}
                                one-time
                            {% endif %}
                        </p>
                        {% endif %}
                    </div>

                    <!-- Package Features -->
                    {% if service.features_list %}
                    <ul class="space-y-2 sm:space-y-3" id="service-features-{{ service.id }}">
                        {% for feature in service.features_list %}
                        <li class="flex items-start space-x-2 sm:space-x-3">
                            <i data-lucide="check" class="w-4 h-4 sm:w-5 sm:h-5 text-[#FFA300] mt-0.5 flex-shrink-0"></i>
                            <span class="text-sm sm:text-base text-[#0B32A4]/80">{{ feature }}</span>
                        </li>
                        {% endfor %}
                    </ul>
                    {% endif %}

                    <!-- Buy Button -->
                    <div class="pt-3 sm:pt-4">
                        <button 
                            onclick="purchaseService('{{ service.id }}', '{{ service.title }}', '{{ service.price }}')" 
                            class="w-full bg-[#0B32A4] text-white justify-center transition-all duration-300 hover:scale-105 text-base sm:text-lg py-3 sm:py-4 px-4 sm:px-6 rounded-lg flex items-center"
                        >
                            <i data-lucide="shopping-cart" class="w-5 h-5 sm:w-6 sm:h-6 mr-2 sm:mr-3"></i>
                            Add to Cart
                        </button>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Individual Services Section -->
<section class="py-20 relative overflow-hidden" style="background-color: white;">
    <!-- Enhanced Geometric Pattern Background -->
    <div class="absolute inset-0 pattern-grid opacity-5 animate-float-slow"></div>
    
    <!-- Enhanced Floating Dots Animation -->
    <div class="floating-dots opacity-30 animate-float-medium"></div>
    
    <!-- Decorative Elements -->
    <div class="absolute top-20 left-10 w-32 h-32 bg-white rounded-full blur-3xl animate-float-reverse-slow"></div>
    <div class="absolute bottom-20 right-10 w-40 h-40 bg-white rounded-full blur-3xl animate-float-medium"></div>
    
    <!-- SVG Wave Divider (Top) with enhanced styling -->
    <div class="absolute top-0 left-0 w-full overflow-hidden leading-none transform rotate-180">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none" class="w-full h-16 text-gray-400" style="opacity: 0.08;">
            <path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V120H0V0C0,0,0,0,0,0z" fill="currentColor"></path>
        </svg>
    </div>
    
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
        <div class="text-center space-y-4 mb-16 scroll-fade-in">
            <!-- Enhanced section title -->
            <h2 class="text-3xl md:text-5xl font-bold tracking-tight relative inline-block">
                <span class="text-[#0B32A4]">Individual</span> 
                <span class="text-[#FFA300]" style="animation-delay: 0.5s;">Services</span>
                <!-- Decorative underline -->
                <span class="absolute -bottom-2 left-0 w-full h-1 bg-[#0B32A4] opacity-70 rounded-full"></span>
            </h2>
            <p class="text-xl text-[#0B32A4]/80 max-w-2xl mx-auto transition-colors duration-300">
                Tailored solutions for specific business needs and objectives
            </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8 md:gap-10">
            {% for service in individual_services %}
            <div class="group relative overflow-hidden rounded-2xl border border-[#0B32A4]/20 transition-all duration-500 hover:shadow-xl hover:border-[#0B32A4]/40 transform hover:scale-[1.02] scroll-fade-in" style="--delay: calc(0.2s + {{ forloop.counter0 }} * 0.1s); background-color: white; box-shadow: 0 10px 30px -5px rgba(0, 0, 0, 0.1);">
                <!-- Simple Card Background -->
                <div class="absolute inset-0 bg-white opacity-90"></div>
                
                <!-- Simple Hover Effect -->
                <div class="absolute inset-0 bg-white opacity-0 group-hover:opacity-30 transition-all duration-500"></div>
                
                <!-- Simple Border Highlight -->
                <div class="absolute inset-0 rounded-2xl p-0.5 opacity-0 group-hover:opacity-100 transition-all duration-500">
                    <div class="absolute inset-0 rounded-2xl bg-[#0B32A4]/10"></div>
                    <div class="h-full w-full rounded-2xl bg-white"></div>
                </div>
                
                <!-- Corner Accents with Animation -->
                <div class="absolute top-0 right-0 w-16 h-16 bg-[#0B32A4]/10 rounded-bl-full transform translate-x-8 -translate-y-8 group-hover:translate-x-6 group-hover:-translate-y-6 transition-all duration-700 animate-float-slow"></div>
                <div class="absolute bottom-0 left-0 w-16 h-16 bg-[#FFA300]/10 rounded-tr-full transform -translate-x-8 translate-y-8 group-hover:-translate-x-6 group-hover:translate-y-6 transition-all duration-700 animate-float-reverse-slow"></div>

                <!-- Card Content with Enhanced Styling -->
                <div class="relative p-4 sm:p-6 md:p-8 h-full flex flex-col">
                    <!-- Enhanced Service Icon & Title -->
                    <div class="flex items-start space-x-3 sm:space-x-4 mb-4 sm:mb-6">
                        <div class="relative">
                            <div class="icon-container group-hover:scale-110 transition-all duration-500 relative z-10 w-10 h-10 sm:w-12 sm:h-12 animate-float-medium" style="background: #0B32A4; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);">
                                <i data-lucide="{% if 'strategy' in service.title.lower %}target{% elif 'salesforce' in service.title.lower %}database{% elif 'ai' in service.title.lower %}brain-circuit{% elif 'marketing' in service.title.lower %}megaphone{% elif 'limited time' in service.title.lower %}clock{% else %}settings{% endif %}" class="w-5 h-5 sm:w-6 sm:h-6 md:w-7 md:h-7 text-white"></i>
                            </div>
                            {% if 'limited time' in service.title.lower %}
                            <div class="absolute -top-2 -right-2 bg-[#0B32A4] text-white text-xs font-bold px-2 py-1 rounded-full animate-pulse shadow-lg">
                                Limited
                            </div>
                            {% endif %}
                            <!-- Simple Icon Highlight Effect -->
                            <div class="absolute inset-0 rounded-full bg-gray-300 opacity-0 group-hover:opacity-40 blur-xl transition-all duration-500 transform scale-150"></div>
                        </div>
                        <div class="flex-1">
                            <h3 class="text-base sm:text-lg md:text-xl font-bold text-gray-800 group-hover:text-[#0B32A4] transition-all duration-500">{{ service.title }}</h3>
                            <div class="h-0.5 bg-gray-400 mt-1 sm:mt-2 w-0 group-hover:w-full transition-all duration-500"></div>
                        </div>
                    </div>

                    <!-- Service Description -->
                    <p class="text-gray-500 text-sm sm:text-base mb-4 sm:mb-6 leading-relaxed flex-grow">
                        {{ service.short_description|default:service.description|truncatewords:20 }}
                    </p>

                    <!-- Service Features -->
                    {% if service.features %}
                    <ul class="space-y-2 sm:space-y-3 mb-4 sm:mb-6 feature-list">
                        {% for feature in service.features %}
                        <li class="flex items-center space-x-2 sm:space-x-3 text-xs sm:text-sm text-gray-600 feature-item opacity-80 group-hover:opacity-100 transition-all duration-300" style="transition-delay: calc({{ forloop.counter0 }} * 0.1s);">
                            <div class="relative">
                                <i data-lucide="check" class="w-3.5 h-3.5 sm:w-4.5 sm:h-4.5 text-[#FFA300] animated-checkmark group-hover:scale-125 transition-transform duration-300"></i>
                                <div class="absolute inset-0 bg-[#FFA300]/20 opacity-0 group-hover:opacity-20 blur-md rounded-full transform scale-0 group-hover:scale-150 transition-all duration-500"></div>
                            </div>
                            <span class="feature-text group-hover:text-gray-700 transition-colors duration-300 relative">
                                {{ feature }}
                                <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-gray-300 group-hover:w-full transition-all duration-500 feature-underline"></span>
                            </span>
                        </li>
                        {% endfor %}
                    </ul>
                    {% endif %}
                    
                    <!-- Service Pricing Options Features -->
                    {% if service.servicepricingoption_set.all %}
                    <div id="service-features-{{ service.id }}" class="space-y-2 sm:space-y-3 mb-4 sm:mb-6 feature-list">
                        {% with first_option=service.servicepricingoption_set.first %}
                        {% if first_option.features %}
                        {% for feature in first_option.features|slice:":3" %}
                        <div class="flex items-center space-x-2 sm:space-x-3 text-xs sm:text-sm text-gray-600 feature-item opacity-80 group-hover:opacity-100 transition-all duration-300" style="transition-delay: calc({{ forloop.counter0 }} * 0.1s);">
                            <div class="relative">
                                <i data-lucide="check" class="w-3.5 h-3.5 sm:w-4.5 sm:h-4.5 text-gray-500 animated-checkmark group-hover:scale-125 transition-transform duration-300"></i>
                                <div class="absolute inset-0 bg-gray-200 opacity-0 group-hover:opacity-20 blur-md rounded-full transform scale-0 group-hover:scale-150 transition-all duration-500"></div>
                            </div>
                            <span class="feature-text group-hover:text-gray-700 transition-colors duration-300 relative">
                                {{ feature }}
                                <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-gray-300 group-hover:w-full transition-all duration-500 feature-underline"></span>
                            </span>
                        </div>
                        {% endfor %}
                        {% endif %}
                        {% endwith %}
                    </div>
                    {% endif %}

                    <!-- Enhanced Service Pricing -->
                    <div class="mb-4 sm:mb-6">
                        {% if service.price_type == 'custom' %}
                            <div class="text-center bg-white rounded-lg sm:rounded-xl p-3 sm:p-4 border border-[#0B32A4]/20 shadow-sm group-hover:shadow-md transition-all duration-500 backdrop-blur-sm">
                                <span class="text-xl sm:text-2xl font-bold text-[#0B32A4] group-hover:text-[#0E42CE] transition-all duration-500">Custom Quote</span>
                                <p class="text-[#0B32A4]/70 text-xs sm:text-sm mt-1">Tailored to your needs</p>
                            </div>
                        {% else %}
                            {% if service.servicepricingoption_set.all %}
                            <div class="space-y-2 sm:space-y-3">
                                <div class="relative">
                                    <select id="service-pricing-option-{{ service.id }}" class="w-full py-2 sm:py-3 px-3 sm:px-4 border-2 border-[#0B32A4]/30 rounded-lg sm:rounded-xl bg-white/90 text-[#0B32A4] text-sm sm:text-base font-semibold appearance-none cursor-pointer focus:ring-2 focus:ring-[#0B32A4] focus:border-[#0B32A4] transition-all duration-300 backdrop-blur-sm shadow-sm group-hover:shadow-md">
                                        {% for option in service.servicepricingoption_set.all %}
                                        <option value="{{ option.id }}" data-price="{{ option.price }}" data-period="{{ option.period }}" data-name="{{ option.name }}">
                                            {{ option.name }} - ${{ option.price|floatformat:0 }} CAD {% if option.period == 'monthly' %}/ month{% elif option.period == 'yearly' %}/ year{% elif option.period == 'hourly' %}/ hour{% elif option.period == 'one-time' %}one-time{% endif %}
                                        </option>
                                        {% endfor %}
                                    </select>
                                    <div class="absolute inset-y-0 right-0 flex items-center px-2 sm:px-3 pointer-events-none">
                                        <i data-lucide="chevron-down" class="w-4 h-4 sm:w-5 sm:h-5 text-gray-500 group-hover:text-gray-700 transition-colors duration-300 animate-bounce-subtle"></i>
                                    </div>
                                </div>
                                <div class="text-center bg-white rounded-lg sm:rounded-xl p-3 sm:p-4 shadow-sm group-hover:shadow-md transition-all duration-500 backdrop-blur-sm" id="service-price-display-{{ service.id }}">
                                    <div class="flex items-baseline justify-center space-x-1">
                                        <span class="text-xl sm:text-2xl font-bold text-[#0B32A4] group-hover:text-[#0E42CE] transition-all duration-500">${{ service.servicepricingoption_set.first.price|floatformat:0 }}</span>
                                        <span class="text-[#0B32A4]/70 text-sm sm:text-base group-hover:text-[#0B32A4] transition-colors duration-300">CAD</span>
                                    </div>
                                    <p class="text-[#0B32A4]/70 text-xs sm:text-sm group-hover:text-[#0B32A4] transition-colors duration-300">
                                        {% if service.servicepricingoption_set.first.period == 'monthly' %}<span class="period-text">per month</span>
                                        {% elif service.servicepricingoption_set.first.period == 'yearly' %}<span class="period-text">per year</span>
                                        {% elif service.servicepricingoption_set.first.period == 'hourly' %}<span class="period-text">per hour</span>
                                        {% else %}<span class="period-text">one-time</span>{% endif %}
                                    </p>
                                </div>
                            </div>
                            {% else %}
                            <div class="text-center bg-gray-100 rounded-lg sm:rounded-xl p-3 sm:p-4 shadow-sm group-hover:shadow-md transition-all duration-500 backdrop-blur-sm">
                                <div class="flex items-baseline justify-center space-x-1">
                                    <span class="text-base sm:text-lg font-bold text-gray-700 group-hover:text-gray-800 transition-all duration-500">Starting From ${{ service.price|floatformat:0 }}</span>
                                    <span class="text-gray-500 text-sm sm:text-base group-hover:text-gray-600 transition-colors duration-300">CAD</span>
                                    {% if service.price_type != 'fixed' %}
                                    <span class="text-gray-500 text-xs sm:text-sm group-hover:text-gray-600 transition-colors duration-300">
                                        {% if service.price_type == 'hourly' %}<span class="period-text">/hour</span>{% elif service.price_type == 'monthly' %}<span class="period-text">/month</span>{% endif %}
                                    </span>
                                    {% endif %}
                                </div>
                            </div>
                            {% endif %}
                        {% endif %}
                    </div>

                    <!-- Enhanced Action Buttons -->
                    <div class="space-y-3 mt-auto">
                        {% if service.price_type == 'custom' %}
                            <a href="/contact/?service={{ service.id }}" class="w-full bg-[#0B32A4] text-white justify-center transition-all duration-300 hover:scale-105 relative overflow-hidden group/btn text-sm sm:text-base py-2 sm:py-3 px-3 sm:px-4 shadow-md hover:shadow-lg rounded-lg">
                                <span class="relative z-10 flex items-center justify-center">
                                    <i data-lucide="message-circle" class="w-4 h-4 sm:w-5 sm:h-5 mr-1 sm:mr-2 group-hover/btn:animate-pulse"></i>
                                    Get Quote
                                </span>
                                <div class="absolute inset-0 bg-[#0E42CE] opacity-0 group-hover/btn:opacity-100 transition-all duration-500"></div>
                                <!-- Pulse Effect -->
                                <div class="absolute inset-0 bg-[#0B32A4] opacity-0 group-hover/btn:opacity-30 rounded-lg animate-pulse-subtle"></div>
                            </a>
                        {% else %}
                            <div class="space-y-3">
                                <!-- Pricing Options Dropdown -->
                                <div class="relative group/dropdown">
                                    <select id="service-pricing-option-{{ service.id }}" class="w-full py-2 sm:py-3 px-3 sm:px-4 border-2 border-gray-300 rounded-lg sm:rounded-xl bg-white/95 text-gray-700 text-sm sm:text-base font-semibold appearance-none cursor-pointer focus:ring-2 focus:ring-gray-400 focus:border-gray-400 hover:border-gray-400 hover:shadow-lg transition-all duration-300 backdrop-blur-sm shadow-sm">
                                        {% for option in service.pricing_options_list %}
                                            {% if option.id %}
                                                <!-- For database ServicePricingOption objects -->
                                                <option value="{{ service.id }}_{{ option.id }}" data-price="{{ option.price }}" data-period="{{ option.period }}" data-name="{{ option.name }}">
                                                    {{ option.name }} - ${{ option.price|floatformat:0 }} CAD {% if option.period == 'one_time' %}one-time{% elif option.period == 'monthly' %}monthly{% elif option.period == 'yearly' %}yearly{% endif %}
                                                </option>
                                            {% else %}
                                                <!-- For dictionary pricing options -->
                                                <option value="{{ service.id }}_{{ option.name|lower }}" data-price="{{ option.price }}" data-period="{{ option.period }}" data-name="{{ option.name }}">
                                                    {{ option.name }} - ${{ option.price|floatformat:0 }} CAD {% if option.period == 'one_time' %}one-time{% elif option.period == 'monthly' %}monthly{% elif option.period == 'yearly' %}yearly{% endif %}
                                                </option>
                                            {% endif %}
                                        {% endfor %}
                                    </select>
                                    <div class="absolute inset-y-0 right-0 flex items-center px-2 sm:px-3 pointer-events-none">
                                        <div class="bg-gray-200 rounded-full p-1 sm:p-1.5 group-hover/dropdown:bg-gray-300 transform group-hover/dropdown:scale-110 group-focus-within/dropdown:scale-110 group-focus-within/dropdown:bg-gray-300 transition-all duration-300 shadow-sm">
                                        <i data-lucide="chevron-down" class="w-4 h-4 sm:w-5 sm:h-5 text-gray-500 group-hover/dropdown:text-gray-700 group-focus-within/dropdown:text-gray-700 transition-all duration-300"></i>
                                        </div>
                                    </div>
                                    <!-- Subtle highlight effect on hover -->
                                    <div class="absolute inset-0 bg-gray-100 opacity-0 group-hover/dropdown:opacity-100 rounded-lg sm:rounded-xl transition-opacity duration-300 pointer-events-none"></div>
                                    <!-- Subtle glow effect on focus -->
                                    <div class="absolute -inset-0.5 bg-gray-200 opacity-0 group-focus-within/dropdown:opacity-100 rounded-lg sm:rounded-xl blur-sm transition-opacity duration-300 pointer-events-none"></div>
                                </div>
                                
                                <!-- Add to Cart Button -->
                                <button 
                                    onclick="purchaseService('{{ service.id }}', '{{ service.title }}', '{{ service.price|default:0 }}')" 
                                    class="w-full bg-[#0B32A4] text-white justify-center transition-all duration-300 hover:scale-105 relative overflow-hidden group/btn text-sm sm:text-base py-2 sm:py-3 px-3 sm:px-4 shadow-md hover:shadow-lg rounded-lg"
                                >
                                    <span class="relative z-10 flex items-center justify-center">
                                        <i data-lucide="shopping-cart" class="w-4 h-4 sm:w-5 sm:h-5 mr-1 sm:mr-2 group-hover/btn:animate-pulse"></i>
                                        Add to Cart
                                    </span>
                                    <div class="absolute inset-0 bg-[#0E42CE] opacity-0 group-hover/btn:opacity-100 transition-all duration-500"></div>
                                    <!-- Pulse Effect -->
                                    <div class="absolute inset-0 bg-[#0B32A4] opacity-0 group-hover/btn:opacity-30 rounded-lg animate-pulse-subtle"></div>
                                </button>
                            </div>
                        {% endif %}
                        
                        <a href="/services/{{ service.slug }}/" class="w-full btn-ghost justify-center group/btn relative overflow-hidden text-sm sm:text-base py-2 sm:py-3 px-3 sm:px-4 border border-[#0B32A4]/20 hover:border-[#0B32A4]/40 rounded-lg shadow-sm hover:shadow-md transition-all duration-300">
                            <span class="relative z-10 flex items-center justify-center text-[#0B32A4] group-hover/btn:text-[#0E42CE] transition-colors duration-300">
                                <i data-lucide="info" class="w-4 h-4 sm:w-5 sm:h-5 mr-1 sm:mr-2 group-hover/btn:rotate-12 transition-transform duration-300"></i>
                                Learn More
                            </span>
                            <!-- Hover Effect -->
                            <div class="absolute inset-0 bg-gradient-to-r from-[#0B32A4]/5 to-[#FFA300]/5 opacity-0 group-hover/btn:opacity-100 transition-all duration-300"></div>
                        </a>
                    </div>
                </div>

                <!-- Floating Elements & Decorative Accents -->
                <div class="absolute top-4 right-4 w-16 h-16 bg-[#FFA300]/10 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-500 blur-xl animate-float-slow"></div>
                <div class="absolute bottom-4 left-4 w-12 h-12 bg-[#0B32A4]/10 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-500 blur-lg animate-float-slow" style="animation-delay: 0.5s;"></div>
                
                <!-- Subtle Geometric Accents -->
                <div class="absolute bottom-0 right-0 w-24 h-24 opacity-0 group-hover:opacity-10 transition-all duration-700 delay-100">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="w-full h-full text-[#0B32A4]">
                        <path d="M0,0 L100,0 L100,100 Z" fill="currentColor"/>
                    </svg>
                </div>
                <div class="absolute bottom-4 left-4 w-12 h-12 bg-[#0B32A4]/10 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-700 blur-lg" style="transition-delay: 0.2s;"></div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- FAQ Section -->
<section class="py-12 sm:py-16 md:py-20 relative overflow-hidden" style="background-color: #FFFFFF;">
    <!-- Enhanced Geometric Pattern Background -->
    <div class="absolute inset-0 pattern-grid opacity-5 animate-float-slow"></div>
    
    <!-- Enhanced Floating Dots Animation -->
    <div class="floating-dots opacity-30 animate-float-medium"></div>
     
     <!-- Decorative Elements -->
     <div class="absolute top-20 right-10 w-32 h-32 bg-[#0B32A4]/5 rounded-full blur-3xl animate-float-reverse-slow"></div>
     <div class="absolute bottom-20 left-10 w-40 h-40 bg-[#FFA300]/5 rounded-full blur-3xl animate-float-medium"></div>
    
    <!-- Enhanced SVG Wave Divider (Top) -->
    <div class="absolute top-0 left-0 w-full overflow-hidden leading-none transform rotate-180">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none" class="w-full h-16 text-[#FFA300] animate-float-slow" style="opacity: 0.08;">
            <path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V120H0V0C0,0,0,0,0,0z" fill="currentColor"></path>
        </svg>
    </div>
    
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
        <!-- Enhanced Section Title with Animation -->
        <div class="text-center space-y-3 sm:space-y-4 mb-10 sm:mb-16 scroll-fade-in">
            <div class="inline-block relative">
                <!-- Decorative Element -->
                <div class="absolute -top-6 -left-6 w-12 h-12 rounded-full bg-[#FFA300]/10 animate-float-medium"></div>
                <div class="absolute -bottom-6 -right-6 w-12 h-12 rounded-full bg-[#0B32A4]/10 animate-float-reverse-medium"></div>
                
                <h2 class="text-2xl sm:text-3xl md:text-5xl font-bold tracking-tight relative z-10">
                    <span class="text-[#0B32A4]">Frequently Asked</span> <span class="text-[#FFA300]">Questions</span>
                </h2>
                
                <!-- Decorative Underline -->
                <div class="h-1 w-24 mx-auto bg-gradient-to-r from-[#0B32A4] to-[#FFA300] rounded-full mt-4 animate-pulse-slow"></div>
            </div>
            
            <p class="text-lg text-[#0B32A4]/70 max-w-2xl mx-auto relative">
                <span class="relative z-10 inline-block animate-fadeInUp" style="--delay: 0.2s;">Everything you need to know about our services and pricing</span>
            </p>
        </div>

        <div class="space-y-4 sm:space-y-6">
            <!-- FAQ Cards with Modern Design -->
            <div class="group glass-card p-4 sm:p-6 rounded-xl border border-[#0B32A4]/10 hover:border-[#0B32A4]/30 shadow-md hover:shadow-lg transition-all duration-500 scroll-fade-in relative overflow-hidden" style="--delay: 0.2s;">
                <!-- Card Background with White -->
                <div class="absolute inset-0 bg-white opacity-90"></div>
                
                <!-- Hover Glow Effect -->
                <div class="absolute inset-0 bg-[#0B32A4]/5 opacity-0 group-hover:opacity-100 transition-all duration-500"></div>
                
                <!-- Content -->
                <div class="relative z-10">
                    <div class="flex items-center mb-3 sm:mb-4">
                        <div class="flex-shrink-0 mr-3 sm:mr-4">
                            <div class="w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-[#0B32A4]/10 flex items-center justify-center group-hover:bg-[#0B32A4]/20 transition-all duration-300">
                                <i data-lucide="credit-card" class="w-4 h-4 sm:w-5 sm:h-5 text-[#0B32A4] group-hover:text-[#FFA300] transition-colors duration-300"></i>
                            </div>
                        </div>
                        <h3 class="text-base sm:text-lg md:text-xl font-semibold text-[#0B32A4] group-hover:text-gradient-blue transition-all duration-300">What payment methods do you accept?</h3>
                    </div>
                    <div class="pl-11 sm:pl-14">
                        <p class="text-sm sm:text-base text-gray-600 group-hover:text-gray-800 transition-colors duration-300">We accept all major credit cards (Visa, MasterCard, American Express) and electronic payments through our secure Stripe integration. All prices are in Canadian dollars (CAD).</p>
                    </div>
                </div>
                
                <!-- Decorative Corner Element -->
                <div class="absolute bottom-0 right-0 w-16 h-16 bg-[#0B32A4]/5 rounded-tl-full transform translate-x-8 translate-y-8 group-hover:translate-x-6 group-hover:translate-y-6 transition-all duration-700"></div>
            </div>

            <div class="group glass-card p-4 sm:p-6 rounded-xl border border-[#0B32A4]/10 hover:border-[#0B32A4]/30 shadow-md hover:shadow-lg transition-all duration-500 scroll-fade-in relative overflow-hidden" style="--delay: 0.3s;">
                <!-- Card Background with Gradient -->
                <div class="absolute inset-0 bg-gradient-to-br from-white to-[#0B32A4]/5 opacity-90"></div>
                
                <!-- Hover Glow Effect -->
                <div class="absolute inset-0 bg-gradient-to-r from-[#0B32A4]/5 to-[#FFA300]/5 opacity-0 group-hover:opacity-100 transition-all duration-500"></div>
                
                <!-- Content -->
                <div class="relative z-10">
                    <div class="flex items-center mb-3 sm:mb-4">
                        <div class="flex-shrink-0 mr-3 sm:mr-4">
                            <div class="w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-[#0B32A4]/10 flex items-center justify-center group-hover:bg-[#0B32A4]/20 transition-all duration-300">
                                <i data-lucide="refresh-cw" class="w-4 h-4 sm:w-5 sm:h-5 text-[#0B32A4] group-hover:text-[#FFA300] transition-colors duration-300"></i>
                            </div>
                        </div>
                        <h3 class="text-base sm:text-lg md:text-xl font-semibold text-[#0B32A4] group-hover:text-gradient-blue transition-all duration-300">Can I upgrade or downgrade my plan?</h3>
                    </div>
                    <div class="pl-11 sm:pl-14">
                        <p class="text-sm sm:text-base text-gray-600 group-hover:text-gray-800 transition-colors duration-300">Yes! You can change your plan at any time. Upgrades take effect immediately, while downgrades take effect at your next billing cycle. Contact us for assistance with plan changes.</p>
                    </div>
                </div>
                
                <!-- Decorative Corner Element -->
                <div class="absolute bottom-0 right-0 w-16 h-16 bg-[#0B32A4]/5 rounded-tl-full transform translate-x-8 translate-y-8 group-hover:translate-x-6 group-hover:translate-y-6 transition-all duration-700"></div>
            </div>

            <div class="group glass-card p-4 sm:p-6 rounded-xl border border-[#0B32A4]/10 hover:border-[#0B32A4]/30 shadow-md hover:shadow-lg transition-all duration-500 scroll-fade-in relative overflow-hidden" style="--delay: 0.4s;">
                <!-- Card Background with Gradient -->
                <div class="absolute inset-0 bg-gradient-to-br from-white to-[#0B32A4]/5 opacity-90"></div>
                
                <!-- Hover Glow Effect -->
                <div class="absolute inset-0 bg-gradient-to-r from-[#0B32A4]/5 to-[#FFA300]/5 opacity-0 group-hover:opacity-100 transition-all duration-500"></div>
                
                <!-- Content -->
                <div class="relative z-10">
                    <div class="flex items-center mb-3 sm:mb-4">
                        <div class="flex-shrink-0 mr-3 sm:mr-4">
                            <div class="w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-[#0B32A4]/10 flex items-center justify-center group-hover:bg-[#0B32A4]/20 transition-all duration-300">
                                <i data-lucide="shield-check" class="w-4 h-4 sm:w-5 sm:h-5 text-[#0B32A4] group-hover:text-[#FFA300] transition-colors duration-300"></i>
                            </div>
                        </div>
                        <h3 class="text-base sm:text-lg md:text-xl font-semibold text-[#0B32A4] group-hover:text-gradient-blue transition-all duration-300">Do you offer refunds?</h3>
                    </div>
                    <div class="pl-11 sm:pl-14">
                        <p class="text-sm sm:text-base text-gray-600 group-hover:text-gray-800 transition-colors duration-300">We offer a 30-day satisfaction guarantee on all our services. If you're not completely satisfied, we'll work with you to make it right or provide a full refund.</p>
                    </div>
                </div>
                
                <!-- Decorative Corner Element -->
                <div class="absolute bottom-0 right-0 w-16 h-16 bg-[#0B32A4]/5 rounded-tl-full transform translate-x-8 translate-y-8 group-hover:translate-x-6 group-hover:translate-y-6 transition-all duration-700"></div>
            </div>

            <div class="group glass-card p-4 sm:p-6 rounded-xl border border-[#0B32A4]/10 hover:border-[#0B32A4]/30 shadow-md hover:shadow-lg transition-all duration-500 scroll-fade-in relative overflow-hidden" style="--delay: 0.5s;">
                <!-- Card Background with Gradient -->
                <div class="absolute inset-0 bg-gradient-to-br from-white to-[#0B32A4]/5 opacity-90"></div>
                
                <!-- Hover Glow Effect -->
                <div class="absolute inset-0 bg-gradient-to-r from-[#0B32A4]/5 to-[#FFA300]/5 opacity-0 group-hover:opacity-100 transition-all duration-500"></div>
                
                <!-- Content -->
                <div class="relative z-10">
                    <div class="flex items-center mb-3 sm:mb-4">
                        <div class="flex-shrink-0 mr-3 sm:mr-4">
                            <div class="w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-[#0B32A4]/10 flex items-center justify-center group-hover:bg-[#0B32A4]/20 transition-all duration-300">
                                <i data-lucide="headphones" class="w-4 h-4 sm:w-5 sm:h-5 text-[#0B32A4] group-hover:text-[#FFA300] transition-colors duration-300"></i>
                            </div>
                        </div>
                        <h3 class="text-base sm:text-lg md:text-xl font-semibold text-[#0B32A4] group-hover:text-gradient-blue transition-all duration-300">What's included in ongoing support?</h3>
                    </div>
                    <div class="pl-11 sm:pl-14">
                        <p class="text-sm sm:text-base text-gray-600 group-hover:text-gray-800 transition-colors duration-300">All plans include email support, documentation access, and regular check-ins. Higher-tier plans include priority support, dedicated account management, and additional consultation hours.</p>
                    </div>
                </div>
                
                <!-- Decorative Corner Element -->
                <div class="absolute bottom-0 right-0 w-16 h-16 bg-[#0B32A4]/5 rounded-tl-full transform translate-x-8 translate-y-8 group-hover:translate-x-6 group-hover:translate-y-6 transition-all duration-700"></div>
            </div>
        </div>
    </div>
</section>

<!-- Enhanced CTA Section -->
<section class="py-20 relative overflow-hidden">
    <!-- Enhanced Background with Geometric Pattern -->
    <div class="absolute inset-0 bg-gradient-to-br from-white via-[#f8f9ff] to-[#e6eeff] opacity-80"></div>
    <div class="absolute inset-0 pattern-grid opacity-5 animate-float-slow"></div>
    
    <!-- Enhanced SVG Wave Divider Top -->
    <div class="absolute top-0 left-0 w-full overflow-hidden">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none" class="absolute top-0 left-0 w-full h-20 text-white animate-float-slow">
            <path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z" fill="currentColor"></path>
        </svg>
    </div>
    
    <!-- Enhanced Animated Background Elements -->
    <div class="absolute top-0 right-0 w-96 h-96 bg-gradient-to-br from-[#FFA300]/10 to-[#FFA300]/5 rounded-full blur-3xl transform -translate-y-1/2 translate-x-1/2 animate-float-slow"></div>
    <div class="absolute bottom-0 left-0 w-80 h-80 bg-gradient-to-tr from-[#0B32A4]/10 to-[#0B32A4]/5 rounded-full blur-3xl transform translate-y-1/2 -translate-x-1/2 animate-float-reverse-slow"></div>
    <div class="absolute top-1/2 left-1/4 w-64 h-64 bg-gradient-to-tr from-[#FFA300]/5 to-[#0B32A4]/5 rounded-full blur-3xl animate-pulse-slow"></div>
    
    <!-- Enhanced Floating Dots Animation -->
    <div class="absolute inset-0 overflow-hidden">
        <div class="absolute h-4 w-4 rounded-full bg-[#0B32A4]/20 top-1/4 left-1/4 animate-float-slow"></div>
        <div class="absolute h-3 w-3 rounded-full bg-[#FFA300]/30 top-3/4 left-1/3 animate-float-medium"></div>
        <div class="absolute h-2 w-2 rounded-full bg-[#0B32A4]/20 top-1/3 right-1/4 animate-float-fast"></div>
        <div class="absolute h-5 w-5 rounded-full bg-[#FFA300]/10 bottom-1/4 right-1/3 animate-float-slow"></div>
        <div class="absolute h-6 w-6 rounded-full bg-[#0B32A4]/15 top-2/3 right-1/3 animate-float-reverse-medium"></div>
        <div class="absolute h-3 w-3 rounded-full bg-[#FFA300]/25 bottom-1/3 left-1/4 animate-float-fast"></div>
    </div>
    
    <!-- Particles.js Background -->
    <div id="particles-cta" class="absolute inset-0 opacity-30"></div>
    
    <!-- Enhanced Content Container -->
    <div class="relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- Decorative Corner Elements -->
        <div class="absolute -top-10 -left-10 w-20 h-20 opacity-50">
            <div class="absolute top-0 left-0 w-8 h-8 border-t-2 border-l-2 border-[#0B32A4]/30 animate-pulse-slow"></div>
        </div>
        <div class="absolute -bottom-10 -right-10 w-20 h-20 opacity-50">
            <div class="absolute bottom-0 right-0 w-8 h-8 border-b-2 border-r-2 border-[#FFA300]/30 animate-pulse-slow"></div>
        </div>
        
        <!-- Enhanced Card with 3D Effect -->
        <div class="card-3d glass-card rounded-2xl p-8 sm:p-10 shadow-xl border border-white/50 backdrop-blur-sm relative overflow-hidden group">
            <!-- Card Glow Effect -->
            <div class="absolute inset-0 bg-gradient-to-br from-[#0B32A4]/10 via-transparent to-[#FFA300]/10 opacity-0 group-hover:opacity-100 transition-opacity duration-700 ease-in-out"></div>
            
            <!-- Animated Border Glow -->
            <div class="absolute inset-0 border-2 border-transparent bg-gradient-to-r from-[#0B32A4]/0 via-[#FFA300]/50 to-[#0B32A4]/0 opacity-0 group-hover:opacity-100 rounded-2xl blur-sm transition-all duration-700 animate-gradient-x"></div>
            
            <div class="text-center space-y-8 relative z-10">
                <!-- Enhanced Title with Animated Gradient -->
                <div class="inline-block relative">
                    <!-- Decorative Elements -->
                    <div class="absolute -top-6 -left-6 w-12 h-12 rounded-full bg-[#FFA300]/10 animate-float-medium"></div>
                    <div class="absolute -bottom-6 -right-6 w-12 h-12 rounded-full bg-[#0B32A4]/10 animate-float-reverse-medium"></div>
                    
                    <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-[#0B32A4] to-[#FFA300] animate-gradient mb-2 animate-fadeInUp" style="--delay: 0.1s;">
                        Ready to Transform Your Business?
                    </h2>
                    <div class="h-1.5 w-32 mx-auto bg-gradient-to-r from-[#0B32A4] to-[#FFA300] rounded-full animate-pulse-slow animate-fadeInUp" style="--delay: 0.2s;"></div>
                </div>
                
                <!-- Enhanced Subtitle with Animated Typography -->
                <p class="text-lg sm:text-xl text-gray-600 leading-relaxed max-w-2xl mx-auto animate-fadeInUp relative" style="--delay: 0.3s;">
                    <span class="relative inline-block">Not sure which option is right for you?</span> 
                    <span class="relative inline-block ml-1">Let's discuss your specific needs and find the</span>
                    <span class="relative inline-block font-medium text-[#0B32A4] ml-1">perfect solution</span> 
                    <span class="relative inline-block ml-1">tailored to your business goals.</span>
                </p>
                
                <!-- Enhanced Action Buttons -->
                <div class="flex flex-col sm:flex-row gap-5 justify-center items-center animate-fadeInUp" style="--delay: 0.4s;">
                    <!-- Enhanced Consultation Button with Advanced Hover Effects -->
                    <a href="/contact/" class="group relative overflow-hidden px-8 py-4 rounded-xl bg-gradient-to-r from-[#FFA300] to-[#FFA300]/90 text-white font-semibold shadow-lg transition-all duration-500 hover:shadow-xl hover:scale-105">
                        <!-- Button Content -->
                        <span class="relative z-10 flex items-center">
                            <i data-lucide="calendar" class="w-5 h-5 mr-3 group-hover:animate-bounce-subtle transition-all duration-300"></i>
                            <span class="group-hover:tracking-wide transition-all duration-300">Free Consultation</span>
                        </span>
                        
                        <!-- Enhanced Hover Overlay with Pulse Effect -->
                        <span class="absolute inset-0 bg-gradient-to-r from-[#0B32A4] to-[#0B32A4]/90 opacity-0 group-hover:opacity-100 transition-all duration-500 transform origin-left scale-x-0 group-hover:scale-x-100"></span>
                        
                        <!-- Animated Particles Effect (Visible on Hover) -->
                        <span class="absolute inset-0 opacity-0 group-hover:opacity-30 transition-opacity duration-700">
                            <span class="absolute top-1/4 left-1/4 w-1 h-1 bg-white rounded-full animate-ping-slow"></span>
                            <span class="absolute top-3/4 left-1/3 w-1.5 h-1.5 bg-white rounded-full animate-ping-slow" style="--delay: 0.2s;"></span>
                            <span class="absolute top-1/3 right-1/4 w-1 h-1 bg-white rounded-full animate-ping-slow" style="--delay: 0.5s;"></span>
                            <span class="absolute bottom-1/4 right-1/3 w-2 h-2 bg-white rounded-full animate-ping-slow" style="--delay: 0.7s;"></span>
                        </span>
                    </a>
                    
                    <!-- Enhanced Call Button with Advanced Glass Effect -->
                    <a href="tel:{{ site_config.phone|default:'416-556-6961' }}" class="group relative overflow-hidden px-8 py-4 rounded-xl bg-white/30 backdrop-blur-sm border border-white/50 text-[#0B32A4] font-semibold shadow-md transition-all duration-300 hover:bg-white/50 hover:shadow-lg">
                        <span class="relative z-10 flex items-center">
                            <div class="w-8 h-8 rounded-full bg-[#0B32A4]/10 flex items-center justify-center mr-3 group-hover:bg-[#0B32A4]/20 transition-all duration-300 group-hover:scale-110">
                                <i data-lucide="phone" class="w-4 h-4 text-[#0B32A4] group-hover:text-[#FFA300] transition-colors duration-300"></i>
                            </div>
                            <span class="group-hover:text-[#0B32A4] transition-all duration-300">Call {{ site_config.phone|default:"416-556-6961" }}</span>
                        </span>
                        
                        <!-- Subtle Glow Effect on Hover -->
                        <span class="absolute inset-0 bg-gradient-to-r from-[#0B32A4]/5 via-[#FFA300]/5 to-[#0B32A4]/5 opacity-0 group-hover:opacity-100 transition-all duration-500 animate-gradient-x"></span>
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- SVG Wave Divider Bottom -->
    <div class="absolute bottom-0 left-0 w-full overflow-hidden">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none" class="absolute bottom-0 left-0 w-full h-20 text-white transform rotate-180">
            <path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z" fill="currentColor"></path>
        </svg>
    </div>
</section>

<script>
// Wait for DOM content to be loaded to ensure cart is available
document.addEventListener('DOMContentLoaded', function() {
    // Ensure cart is available
    if (!window.cart) {
        console.error('Cart object not available on window, creating a basic cart');
        window.cart = {
            items: [],
            addItem: function(item) {
                console.log('Using basic addItem', item);
                this.items.push(item);
                // Try to use custom notification
                try {
                    this.showNotification(`${item.name} added to cart`, 'success');
                } catch (notifyError) {
                    console.error('Error showing notification:', notifyError);
                    // Fallback to alert if notification fails
                    alert(`${item.name} added to cart`);
                }
                return true;
            },
            saveCart: function() {},
            updateCartCount: function() {},
            showNotification: function(msg) { alert(msg); }
        };
    }
    
    // Use the global cart object
    const cart = window.cart;
    
    // Add debugging to check if cart is available
    console.log('Services page loaded, Cart object:', cart);

    // Make purchase functions globally available
    window.purchaseService = function(serviceId, serviceName, defaultPrice) {
        console.log('purchaseService called with:', { serviceId, serviceName, defaultPrice });
        
        // Get the latest cart reference - create one if it doesn't exist
        if (!window.cart) {
            console.error('Cart object not available, creating one on-the-fly');
            window.cart = {
                items: [],
                addItem: function(item) {
                    console.log('Using emergency addItem', item);
                    this.items.push(item);
                    // Try to use custom notification
                    try {
                        this.showNotification(`${item.name} added to cart`, 'success');
                    } catch (notifyError) {
                        console.error('Error showing notification:', notifyError);
                        // Fallback to alert if notification fails
                        alert(`${item.name} added to cart`);
                    }
                    return true;
                },
                saveCart: function() {},
                updateCartCount: function() {},
                showNotification: function(msg) { alert(msg); }
            };
        }
        
        const currentCart = window.cart;
        
        // Double-check cart is available
        if (!currentCart || typeof currentCart.addItem !== 'function') {
            console.error('Cart object is still not available or addItem is not a function');
            // Create an emergency addItem function
            currentCart.addItem = function(item) {
                    console.log('Using emergency addItem function', item);
                    currentCart.items = currentCart.items || [];
                    currentCart.items.push(item);
                    // Try to use custom notification
                    try {
                        if (typeof currentCart.showNotification === 'function') {
                            currentCart.showNotification(`${item.name} added to cart`, 'success');
                        } else {
                            // Fallback to alert if showNotification is not available
                            alert(`${item.name} added to cart`);
                        }
                    } catch (notifyError) {
                        console.error('Error showing notification:', notifyError);
                        // Fallback to alert if notification fails
                        alert(`${item.name} added to cart`);
                    }
                    return true;
                };
        }
        
        // Check if this service has pricing options
        const pricingSelect = document.getElementById(`service-pricing-option-${serviceId}`);
        console.log('Pricing select element:', pricingSelect);
        
        try {
            if (pricingSelect) {
                // Get the selected option
                const selectedOption = pricingSelect.options[pricingSelect.selectedIndex];
                const optionId = selectedOption.value;
                const optionName = selectedOption.getAttribute('data-name');
                const optionPrice = selectedOption.getAttribute('data-price');
                const optionPeriod = selectedOption.getAttribute('data-period');
                
                console.log('Selected option:', { optionId, optionName, optionPrice, optionPeriod });
                
                // Create the item object
                const item = {
                    id: `service_option_${optionId}`,
                    name: `${serviceName} - ${optionName}`,
                    price: parseFloat(optionPrice),
                    priceType: optionPeriod || 'one-time',
                    maintenance: 0,
                    quantity: 1,
                    itemType: 'service_option'
                };
                
                // Add the selected pricing option to cart with error handling
                try {
                    currentCart.addItem(item);
                    console.log('Item added to cart successfully');
                } catch (cartError) {
                    console.error('Error in cart.addItem:', cartError);
                    // Fallback: manually add to cart if method fails
                    currentCart.items = currentCart.items || [];
                    currentCart.items.push(item);
                    console.log('Item added to cart using fallback method');
                }
            } else {
                // Add regular service to cart
                console.log('Adding regular service to cart');
                const item = {
                    id: `service_${serviceId}`,
                    name: serviceName,
                    price: parseFloat(defaultPrice) || 0,
                    priceType: 'one-time',
                    maintenance: 0,
                    quantity: 1,
                    itemType: 'service'
                };
                
                try {
                    currentCart.addItem(item);
                    console.log('Regular service added to cart successfully');
                } catch (cartError) {
                    console.error('Error in cart.addItem:', cartError);
                    // Fallback: manually add to cart if method fails
                    currentCart.items = currentCart.items || [];
                    currentCart.items.push(item);
                    console.log('Regular service added to cart using fallback method');
                }
            }
            
            // Show confirmation message using custom notification
            try {
                currentCart.showNotification(`${serviceName} added to cart successfully!`, 'success');
            } catch (notifyError) {
                console.error('Error showing notification:', notifyError);
            }
            
            // Redirect to cart page after adding item
            // setTimeout(() => {
            //     window.location.href = '/cart/';
            // }, 1500);
        } catch (error) {
            console.error('Error adding item to cart:', error);
            try {
                currentCart.showNotification('Error adding item to cart: ' + error.message, 'error');
            } catch (notifyError) {
                console.error('Error showing notification:', notifyError);
                // Fallback to alert if notification fails
                alert('Error adding item to cart: ' + error.message);
            }
        }
    };
    
    window.purchasePlan = function(planId, planName, defaultPrice) {
        console.log('purchasePlan called with:', { planId, planName, defaultPrice });
        
        // Get the latest cart reference - create one if it doesn't exist
        if (!window.cart) {
            console.error('Cart object not available, creating one on-the-fly');
            window.cart = {
                items: [],
                addItem: function(item) {
                    console.log('Using emergency addItem', item);
                    this.items.push(item);
                    alert(`${item.name} added to cart`);
                    return true;
                },
                saveCart: function() {},
                updateCartCount: function() {},
                showNotification: function(msg) { alert(msg); }
            };
        }
        
        const currentCart = window.cart;
        
        // Double-check cart is available
        if (!currentCart || typeof currentCart.addItem !== 'function') {
            console.error('Cart object is still not available or addItem is not a function');
            // Create an emergency addItem function
            currentCart.addItem = function(item) {
                console.log('Using emergency addItem function', item);
                currentCart.items = currentCart.items || [];
                currentCart.items.push(item);
                alert(`${item.name} added to cart`);
                return true;
            };
        }
        
        // Check if this plan has pricing options
        const pricingSelect = document.getElementById(`plan-pricing-option-${planId}`);
        console.log('Pricing select element:', pricingSelect);
        
        try {
            if (pricingSelect) {
                // Get the selected option
                const selectedOption = pricingSelect.options[pricingSelect.selectedIndex];
                const optionId = selectedOption.value;
                const optionName = selectedOption.getAttribute('data-name');
                const optionPrice = selectedOption.getAttribute('data-price');
                const optionPeriod = selectedOption.getAttribute('data-period');
                
                console.log('Selected option:', { optionId, optionName, optionPrice, optionPeriod });
                
                // Create the item object
                const item = {
                    id: `plan_option_${optionId}`,
                    name: `${planName} - ${optionName}`,
                    price: parseFloat(optionPrice),
                    priceType: optionPeriod || 'one-time',
                    maintenance: 0,
                    quantity: 1,
                    itemType: 'plan_option'
                };
                
                // Add the selected pricing option to cart with error handling
                try {
                    currentCart.addItem(item);
                    console.log('Plan option added to cart successfully');
                } catch (cartError) {
                    console.error('Error in cart.addItem:', cartError);
                    // Fallback: manually add to cart if method fails
                    currentCart.items = currentCart.items || [];
                    currentCart.items.push(item);
                    console.log('Plan option added to cart using fallback method');
                }
            } else {
                // Add regular plan to cart
                console.log('Adding regular plan to cart');
                const item = {
                    id: `plan_${planId}`,
                    name: planName,
                    price: parseFloat(defaultPrice) || 0,
                    priceType: 'one-time',
                    maintenance: 0,
                    quantity: 1,
                    itemType: 'plan'
                };
                
                try {
                    currentCart.addItem(item);
                    console.log('Regular plan added to cart successfully');
                } catch (cartError) {
                    console.error('Error in cart.addItem:', cartError);
                    // Fallback: manually add to cart if method fails
                    currentCart.items = currentCart.items || [];
                    currentCart.items.push(item);
                    console.log('Regular plan added to cart using fallback method');
                }
            }
            
            // Show confirmation message using custom notification
            try {
                currentCart.showNotification(`${planName} added to cart successfully!`, 'success');
            } catch (notifyError) {
                console.error('Error showing notification:', notifyError);
            }
            
            // Redirect to cart page after adding item
            // setTimeout(() => {
            //     window.location.href = '/cart/';
            // }, 1500);
        } catch (error) {
            console.error('Error adding plan to cart:', error);
            try {
                currentCart.showNotification('Error adding plan to cart: ' + error.message, 'error');
            } catch (notifyError) {
                console.error('Error showing notification:', notifyError);
                // Fallback to alert if notification fails
                alert('Error adding plan to cart: ' + error.message);
            }
        }
    };

// Update price display when dropdown changes
// Note: This is inside the main DOMContentLoaded event listener
    // Handle service pricing option changes
    const serviceSelects = document.querySelectorAll('[id^="service-pricing-option-"]');
    console.log('Found service pricing selects:', serviceSelects.length);
    serviceSelects.forEach(select => {
        const serviceId = select.id.replace('service-pricing-option-', '');
        const priceDisplay = document.getElementById(`service-price-display-${serviceId}`);
        const featuresDisplay = document.getElementById(`service-features-${serviceId}`);
        
        if (priceDisplay) {
            select.addEventListener('change', function() {
                const selectedOption = this.options[this.selectedIndex];
                const price = selectedOption.getAttribute('data-price');
                const period = selectedOption.getAttribute('data-period');
                const optionId = selectedOption.value;
                
                let periodText = 'one-time';
                if (period === 'monthly') periodText = 'per month';
                else if (period === 'yearly') periodText = 'per year';
                else if (period === 'hourly') periodText = 'per hour';
                
                priceDisplay.innerHTML = `
                    <div class="flex items-baseline justify-center space-x-1">
                        <span class="text-2xl font-bold text-[#0E42CE]">${parseFloat(price).toFixed(0)}</span>
                <span class="text-[#0B32A4]/70">CAD</span>
            </div>
            <p class="text-[#0B32A4]/70 text-sm">${periodText}</p>
                `;
                
                // Update features based on selected option
                if (featuresDisplay) {
                    // Fetch the features for this option using AJAX
                    fetch(`/api/pricing-options/${optionId}/`)
                        .then(response => response.json())
                        .then(data => {
                            if (data.features && data.features.length > 0) {
                                let featuresHtml = '';
                                data.features.slice(0, 3).forEach((feature, index) => {
                                    featuresHtml += `
                                        <div class="flex items-center space-x-2 text-sm text-[#0B32A4]/80 opacity-80 group-hover:opacity-100 transition-opacity duration-300" style="transition-delay: calc(${index} * 0.1s);">
                <i data-lucide="check" class="w-4 h-4 text-[#FFA300] group-hover:scale-110 transition-transform duration-300"></i>
                                            <span>${feature}</span>
                                        </div>
                                    `;
                                });
                                featuresDisplay.innerHTML = featuresHtml;
                                // Initialize Lucide icons for new elements
                                if (typeof lucide !== 'undefined') {
                                    lucide.createIcons();
                                }
                            }
                        })
                        .catch(error => console.error('Error fetching pricing option features:', error));
                }
            });
        }
    });
    
    // Handle plan pricing option changes
    const planSelects = document.querySelectorAll('[id^="plan-pricing-option-"]');
    console.log('Found plan pricing selects:', planSelects.length);
    planSelects.forEach(select => {
        const planId = select.id.replace('plan-pricing-option-', '');
        const priceDisplay = document.getElementById(`plan-price-display-${planId}`);
        const planFeatures = document.getElementById(`plan-features-${planId}`);
        const optionFeatures = document.getElementById(`plan-option-features-${planId}`);
        
        if (priceDisplay) {
            select.addEventListener('change', function() {
                const selectedOption = this.options[this.selectedIndex];
                const price = selectedOption.getAttribute('data-price');
                const period = selectedOption.getAttribute('data-period');
                const optionId = selectedOption.value;
                
                let periodText = 'one-time';
                if (period === 'monthly') periodText = 'per month';
                else if (period === 'yearly') periodText = 'per year';
                
                priceDisplay.innerHTML = `
                    <div class="flex items-baseline justify-center space-x-1">
                        <span class="text-4xl font-bold text-[#0E42CE]">${parseFloat(price).toFixed(0)}</span>
                <span class="text-[#0B32A4]/70">CAD</span>
            </div>
            <p class="text-[#0B32A4]/70 text-sm mt-1">${periodText}</p>
                `;
                
                // Update features based on selected option
                if (optionFeatures) {
                    // Hide plan features if showing option features
                    if (planFeatures) {
                        planFeatures.style.display = 'none';
                    }
                    
                    // Fetch the features for this option using AJAX
                    fetch(`/api/pricing-options/${optionId}/`)
                        .then(response => response.json())
                        .then(data => {
                            if (data.features && data.features.length > 0) {
                                let featuresHtml = '';
                                data.features.forEach(feature => {
                                    featuresHtml += `
                                        <li class="flex items-start space-x-3">
                                            <i data-lucide="check" class="w-5 h-5 text-[#FFA300] mt-0.5 flex-shrink-0"></i>
                <span class="text-[#0B32A4]/70">${feature}</span>
                                        </li>
                                    `;
                                });
                                optionFeatures.innerHTML = featuresHtml;
                                optionFeatures.style.display = 'block';
                                
                                // Initialize Lucide icons for new elements
                                if (typeof lucide !== 'undefined') {
                                    lucide.createIcons();
                                }
                            }
                        })
                        .catch(error => console.error('Error fetching pricing option features:', error));
                }
            });
        }
    });
});

// Initialize Lucide icons
if (typeof lucide !== 'undefined') {
    lucide.createIcons();
}

// Add custom styles for enhanced animations and modern design
const style = document.createElement('style');
style.textContent = `
    /* Prefers reduced motion support */
    @media (prefers-reduced-motion: reduce) {
        *, ::before, ::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
            scroll-behavior: auto !important;
        }
    }
    
    /* Floating animations */
    @keyframes float {
        0%, 100% { transform: translateY(0px) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(180deg); }
    }
    
    @keyframes floatReverse {
        0%, 100% { transform: translateY(0px) rotate(0deg); }
        50% { transform: translateY(20px) rotate(-180deg); }
    }
    
    .animate-float {
        animation: float 20s ease-in-out infinite;
    }
    
    .animate-floatReverse {
        animation: floatReverse 25s ease-in-out infinite;
    }
    
    /* Floating dots animation */
    .floating-dots {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        z-index: 1;
        pointer-events: none;
    }
    
    .floating-dots::before,
    .floating-dots::after {
        content: '';
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        background-image: radial-gradient(circle, #0B32A4 1px, transparent 1px),
                         radial-gradient(circle, #FFA300 1px, transparent 1px);
        background-size: 50px 50px;
        background-position: 0 0, 25px 25px;
        opacity: 0.05;
        animation: floatingDots 60s linear infinite;
    }
    
    .floating-dots::after {
        background-image: radial-gradient(circle, #FFA300 1px, transparent 1px),
                         radial-gradient(circle, #0B32A4 1px, transparent 1px);
        background-size: 70px 70px;
        background-position: 0 0, 35px 35px;
        animation-duration: 80s;
        animation-direction: reverse;
    }
    
    @keyframes floatingDots {
        0% { transform: translateY(0) rotate(0); }
        100% { transform: translateY(-100px) rotate(360deg); }
    }
    
    /* Subtle geometric pattern */
    .pattern-grid {
        background-image: linear-gradient(rgba(11, 50, 164, 0.05) 1px, transparent 1px),
                         linear-gradient(90deg, rgba(11, 50, 164, 0.05) 1px, transparent 1px);
        background-size: 20px 20px;
    }
    
    /* Fade-in animation */
    .fade-in {
        opacity: 0;
        transform: translateY(20px);
        animation: fadeInUp 0.8s ease-out forwards;
        animation-delay: var(--delay, 0s);
    }
    
    @keyframes fadeInUp {
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    /* Scroll-triggered animations */
    .scroll-fade-in {
        opacity: 0;
        transform: translateY(30px);
        transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }
    
    .scroll-fade-in.visible {
        opacity: 1;
        transform: translateY(0);
    }
    
    /* Animated checkmark */
    .checkmark-path {
        stroke-dasharray: 23;
        stroke-dashoffset: 23;
        animation: drawCheck 0.5s ease forwards;
        animation-delay: var(--delay, 0.2s);
    }
    
    @keyframes drawCheck {
        to {
            stroke-dashoffset: 0;
        }
    }
    
    /* Feature list hover effects */
    .feature-list .feature-item {
        position: relative;
    }
    
    .feature-list .feature-item:hover .feature-text {
        color: #0B32A4;
    }
    
    .feature-list .feature-item:hover::after {
        content: '';
        position: absolute;
        bottom: -2px;
        left: 25px;
        width: calc(100% - 25px);
        height: 2px;
        background: linear-gradient(90deg, #FFA300, transparent);
        animation: expandUnderline 0.3s ease forwards;
    }
    
    @keyframes expandUnderline {
        from { width: 0; }
        to { width: calc(100% - 25px); }
    }
    
    /* Gradient text effects */
    .text-gradient-blue {
        background: linear-gradient(135deg, #0B32A4, #0E42CE);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }
    
    .text-gradient-gold {
        background: linear-gradient(135deg, #FFA300, #FFA300 70%, #0E42CE);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }
    
    /* Icon container */
    .icon-container {
        width: 4rem;
        height: 4rem;
        border-radius: 1rem;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        overflow: hidden;
    }
    
    /* Modern card design */
    .card-modern {
        border-radius: 1.5rem;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        box-shadow: 0 10px 30px -5px rgba(11, 50, 164, 0.1);
        border: 1px solid rgba(11, 50, 164, 0.05);
    }
    
    .card-modern:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 40px -10px rgba(11, 50, 164, 0.2), 0 0 15px rgba(255, 163, 0, 0.1);
        border-color: rgba(255, 163, 0, 0.2);
    }
    
    .card-modern::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 0;
        background: linear-gradient(to bottom, rgba(255, 163, 0, 0.05), transparent);
        transition: height 0.3s ease;
    }
    
    .card-modern:hover::before {
        height: 100%;
    }
    
    /* Button styles */
    .btn-primary {
        background: linear-gradient(135deg, #0B32A4, #0E42CE);
        color: white;
        padding: 0.75rem 1.5rem;
        border-radius: 0.75rem;
        font-weight: 600;
        display: inline-flex;
        align-items: center;
        text-decoration: none;
        transition: all 0.3s ease;
        border: none;
        cursor: pointer;
        position: relative;
        overflow: hidden;
    }
    
    .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(11, 50, 164, 0.3);
    }
    
    .btn-primary::after {
        content: '';
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: -100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: left 0.5s ease;
    }
    
    .btn-primary:hover::after {
        left: 100%;
    }
    
    .card-modern:hover .btn-primary {
        animation: pulseCTA 2s infinite;
    }
    
    @keyframes pulseCTA {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
    }
    
    .btn-gold {
        background: linear-gradient(135deg, #FFA300, #FFA300);
        color: #0B32A4;
        padding: 0.75rem 1.5rem;
        border-radius: 0.75rem;
        font-weight: 600;
        display: inline-flex;
        align-items: center;
        text-decoration: none;
        transition: all 0.3s ease;
        border: none;
        cursor: pointer;
        position: relative;
        overflow: hidden;
    }
    
    .btn-gold:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(255, 163, 0, 0.3);
    }
    
    .btn-ghost {
        background: transparent;
        color: #0B32A4;
        padding: 0.75rem 1.5rem;
        border-radius: 0.75rem;
        font-weight: 600;
        display: inline-flex;
        align-items: center;
        text-decoration: none;
        transition: all 0.3s ease;
        border: 2px solid rgba(11, 50, 164, 0.2);
        cursor: pointer;
    }
    
    .btn-ghost:hover {
        background: rgba(11, 50, 164, 0.05);
        border-color: rgba(11, 50, 164, 0.3);
    }
    
    /* Pricing toggle */
    .pricing-toggle .slider {
        transition: all 0.3s ease;
    }
    
    .pricing-toggle .slider::before {
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        transition: all 0.3s ease;
    }
    
    /* Glass card effect */
    .glass-card {
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    }
    
    /* Tooltip styles */
    .tooltip {
        position: relative;
    }
    
    .tooltip::before {
        content: attr(data-tooltip);
        position: absolute;
        bottom: 100%;
        left: 50%;
        transform: translateX(-50%) translateY(10px);
        background: white;
        color: #0B32A4;
        padding: 0.5rem 1rem;
        border-radius: 0.5rem;
        font-size: 0.875rem;
        white-space: nowrap;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
        pointer-events: none;
        z-index: 10;
    }
    
    .tooltip:hover::before {
        opacity: 1;
        visibility: visible;
        transform: translateX(-50%) translateY(0);
    }
    
    /* Animated counters */
    .counter {
        display: inline-block;
        transition: all 0.3s ease;
    }
    
    /* Loading animation */
    @keyframes loading {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
    
    .loading::before {
        content: '';
        display: inline-block;
        width: 1rem;
        height: 1rem;
        border: 2px solid rgba(11, 50, 164, 0.3);
        border-top-color: #0B32A4;
        border-radius: 50%;
        animation: loading 1s linear infinite;
        margin-right: 0.5rem;
    }
    
    /* New Float Animations with Different Speeds */
    @keyframes float-slow {
        0% { transform: translate(0, 0); }
        50% { transform: translate(0, 15px); }
        100% { transform: translate(0, 0); }
    }
    
    @keyframes float-medium {
        0% { transform: translate(0, 0); }
        50% { transform: translate(0, 10px); }
        100% { transform: translate(0, 0); }
    }
    
    @keyframes float-fast {
        0% { transform: translate(0, 0); }
        50% { transform: translate(0, 5px); }
        100% { transform: translate(0, 0); }
    }
    
    @keyframes float-reverse-slow {
        0% { transform: translate(0, 0); }
        50% { transform: translate(0, -15px); }
        100% { transform: translate(0, 0); }
    }
    
    /* Subtle Bounce Animation for Icons */
    @keyframes bounce-subtle {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-3px); }
    }
    
    /* Animation Classes */
    .animate-float-slow {
        animation: float-slow 20s ease-in-out infinite;
    }
    
    .animate-float-medium {
        animation: float-medium 15s ease-in-out infinite;
    }
    
    .animate-float-fast {
        animation: float-fast 10s ease-in-out infinite;
    }
    
    .animate-float-reverse-slow {
        animation: float-reverse-slow 25s ease-in-out infinite;
    }
    
    .animate-bounce-subtle {
        animation: bounce-subtle 2s ease-in-out infinite;
    }
    
    /* Pulse Animation */
    @keyframes pulse-slow {
        0%, 100% { transform: scale(1); opacity: 1; }
        50% { transform: scale(1.05); opacity: 0.8; }
    }
    
    .animate-pulse-slow {
        animation: pulse-slow 4s ease-in-out infinite;
    }
    
    /* Ping Animation for Particles */
    @keyframes ping-slow {
        0% { transform: scale(0.2); opacity: 1; }
        75%, 100% { transform: scale(2); opacity: 0; }
    }
    
    .animate-ping-slow {
        animation: ping-slow 3s cubic-bezier(0, 0, 0.2, 1) infinite;
        animation-delay: var(--delay, 0s);
    }
    
    /* Gradient Animation */
    @keyframes gradient-x {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }
    
    .animate-gradient-x {
        background-size: 200% 200%;
        animation: gradient-x 15s ease infinite;
    }
    
    .animate-gradient {
        background-size: 200% auto;
        animation: gradient-x 8s linear infinite;
    }
    
    /* Scroll Fade In Animation */
    .scroll-fade-in {
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        transition-delay: var(--delay, 0s);
    }
    
    .scroll-fade-in.visible {
        opacity: 1;
        transform: translateY(0);
    }
    
    /* Gradient Text Classes */
    .text-gradient-blue {
        background: linear-gradient(to right, #0B32A4, #1E56FF);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
    }
    
    /* Filter animations */
    .filter-fade-in {
        animation: filterFadeIn 0.5s ease forwards;
    }
    
    @keyframes filterFadeIn {
        0% { opacity: 0; transform: translateY(20px); }
        100% { opacity: 1; transform: translateY(0); }
    }
    
    /* Active filter tags */
    .active-filter-tag {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.5rem 0.75rem;
        background-color: #f3f4f6;
        border-radius: 9999px;
        font-size: 0.875rem;
        color: #374151;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
    }
    
    .active-filter-tag button {
        display: flex;
        align-items: center;
        justify-content: center;
        color: #6b7280;
        transition: all 0.2s;
    }
    
    .active-filter-tag button:hover {
        color: #ef4444;
    }
    
    /* Category pill active state */
    .category-pill.active {
        background-color: #0B32A4;
        color: white;
        box-shadow: 0 4px 6px -1px rgba(11, 50, 164, 0.2);
    }
    
    /* 3D Card Effect */
    .card-3d {
        transform-style: preserve-3d;
        transition: all 0.5s ease;
    }
    
    .card-3d:hover {
        transform: translateY(-5px) rotateX(2deg) rotateY(2deg);
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
    }
`;
document.head.appendChild(style);

// Add scroll animation observer
document.addEventListener('DOMContentLoaded', function() {
    // Initialize scroll animations
    const scrollElements = document.querySelectorAll('.scroll-fade-in');
    
    const elementInView = (el, dividend = 1) => {
        const elementTop = el.getBoundingClientRect().top;
        return (
            elementTop <= (window.innerHeight || document.documentElement.clientHeight) / dividend
        );
    };
    
    const displayScrollElement = (element) => {
        element.classList.add('visible');
    };
    
    const handleScrollAnimation = () => {
        scrollElements.forEach((el) => {
            if (elementInView(el, 1.25)) {
                displayScrollElement(el);
            }
        });
    };
    
    // Initialize on load
    handleScrollAnimation();
    
    // Add scroll event listener
    window.addEventListener('scroll', () => {
        handleScrollAnimation();
    });
    
    // Initialize Particles.js for the hero section
    if (document.getElementById('particles-hero')) {
        particlesJS('particles-hero', {
            "particles": {
                "number": {
                    "value": 80,
                    "density": {
                        "enable": true,
                        "value_area": 800
                    }
                },
                "color": {
                    "value": "#0B32A4"
                },
                "shape": {
                    "type": "circle",
                    "stroke": {
                        "width": 0,
                        "color": "#000000"
                    },
                    "polygon": {
                        "nb_sides": 5
                    }
                },
                "opacity": {
                    "value": 0.3,
                    "random": false,
                    "anim": {
                        "enable": false,
                        "speed": 1,
                        "opacity_min": 0.1,
                        "sync": false
                    }
                },
                "size": {
                    "value": 3,
                    "random": true,
                    "anim": {
                        "enable": false,
                        "speed": 40,
                        "size_min": 0.1,
                        "sync": false
                    }
                },
                "line_linked": {
                    "enable": true,
                    "distance": 150,
                    "color": "#0B32A4",
                    "opacity": 0.2,
                    "width": 1
                },
                "move": {
                    "enable": true,
                    "speed": 2,
                    "direction": "none",
                    "random": false,
                    "straight": false,
                    "out_mode": "out",
                    "bounce": false,
                    "attract": {
                        "enable": false,
                        "rotateX": 600,
                        "rotateY": 1200
                    }
                }
            },
            "interactivity": {
                "detect_on": "canvas",
                "events": {
                    "onhover": {
                        "enable": true,
                        "mode": "grab"
                    },
                    "onclick": {
                        "enable": true,
                        "mode": "push"
                    },
                    "resize": true
                },
                "modes": {
                    "grab": {
                        "distance": 140,
                        "line_linked": {
                            "opacity": 1
                        }
                    },
                    "bubble": {
                        "distance": 400,
                        "size": 40,
                        "duration": 2,
                        "opacity": 8,
                        "speed": 3
                    },
                    "repulse": {
                        "distance": 200,
                        "duration": 0.4
                    },
                    "push": {
                        "particles_nb": 4
                    },
                    "remove": {
                        "particles_nb": 2
                    }
                }
            },
            "retina_detect": true
        });
    }
    
    // Initialize Particles.js for the services hero section
    if (document.getElementById('particles-js')) {
        particlesJS('particles-js', {
            "particles": {
                "number": {
                    "value": 80,
                    "density": {
                        "enable": true,
                        "value_area": 800
                    }
                },
                "color": {
                    "value": ["#0B32A4", "#0E42CE", "#FFA300"]
                },
                "shape": {
                    "type": ["circle", "triangle", "polygon"],
                    "stroke": {
                        "width": 0,
                        "color": "#000000"
                    },
                    "polygon": {
                        "nb_sides": 5
                    }
                },
                "opacity": {
                    "value": 0.5,
                    "random": true,
                    "anim": {
                        "enable": true,
                        "speed": 1,
                        "opacity_min": 0.1,
                        "sync": false
                    }
                },
                "size": {
                    "value": 5,
                    "random": true,
                    "anim": {
                        "enable": true,
                        "speed": 2,
                        "size_min": 0.1,
                        "sync": false
                    }
                },
                "line_linked": {
                    "enable": true,
                    "distance": 150,
                    "color": "#0B32A4",
                    "opacity": 0.2,
                    "width": 1
                },
                "move": {
                    "enable": true,
                    "speed": 1,
                    "direction": "none",
                    "random": true,
                    "straight": false,
                    "out_mode": "out",
                    "bounce": false,
                    "attract": {
                        "enable": true,
                        "rotateX": 600,
                        "rotateY": 1200
                    }
                }
            },
            "interactivity": {
                "detect_on": "canvas",
                "events": {
                    "onhover": {
                        "enable": true,
                        "mode": "grab"
                    },
                    "onclick": {
                        "enable": true,
                        "mode": "push"
                    },
                    "resize": true
                },
                "modes": {
                    "grab": {
                        "distance": 140,
                        "line_linked": {
                            "opacity": 0.5
                        }
                    },
                    "bubble": {
                        "distance": 400,
                        "size": 40,
                        "duration": 2,
                        "opacity": 0.8,
                        "speed": 3
                    },
                    "repulse": {
                        "distance": 200,
                        "duration": 0.4
                    },
                    "push": {
                        "particles_nb": 4
                    },
                    "remove": {
                        "particles_nb": 2
                    }
                }
            },
            "retina_detect": true
        });
    }
    
    // Initialize Particles.js for the CTA section
    if (document.getElementById('particles-cta')) {
        particlesJS('particles-cta', {
            "particles": {
                "number": {
                    "value": 40,
                    "density": {
                        "enable": true,
                        "value_area": 800
                    }
                },
                "color": {
                    "value": ["#0B32A4", "#FFA300"]
                },
                "shape": {
                    "type": "circle",
                    "stroke": {
                        "width": 0,
                        "color": "#000000"
                    },
                    "polygon": {
                        "nb_sides": 5
                    }
                },
                "opacity": {
                    "value": 0.2,
                    "random": true,
                    "anim": {
                        "enable": true,
                        "speed": 0.5,
                        "opacity_min": 0.1,
                        "sync": false
                    }
                },
                "size": {
                    "value": 3,
                    "random": true,
                    "anim": {
                        "enable": true,
                        "speed": 2,
                        "size_min": 0.1,
                        "sync": false
                    }
                },
                "line_linked": {
                    "enable": true,
                    "distance": 150,
                    "color": "#FFA300",
                    "opacity": 0.2,
                    "width": 1
                },
                "move": {
                    "enable": true,
                    "speed": 1,
                    "direction": "none",
                    "random": true,
                    "straight": false,
                    "out_mode": "out",
                    "bounce": false,
                    "attract": {
                        "enable": true,
                        "rotateX": 600,
                        "rotateY": 1200
                    }
                }
            },
            "interactivity": {
                "detect_on": "canvas",
                "events": {
                    "onhover": {
                        "enable": true,
                        "mode": "bubble"
                    },
                    "onclick": {
                        "enable": true,
                        "mode": "push"
                    },
                    "resize": true
                },
                "modes": {
                    "grab": {
                        "distance": 140,
                        "line_linked": {
                            "opacity": 1
                        }
                    },
                    "bubble": {
                        "distance": 200,
                        "size": 6,
                        "duration": 2,
                        "opacity": 0.8,
                        "speed": 3
                    },
                    "repulse": {
                        "distance": 200,
                        "duration": 0.4
                    },
                    "push": {
                        "particles_nb": 4
                    },
                    "remove": {
                        "particles_nb": 2
                    }
                }
            },
            "retina_detect": true
        });
    }
    
    // Initialize monthly/yearly toggle
    const pricingToggle = document.getElementById('pricing-period-toggle');
    if (pricingToggle) {
        pricingToggle.addEventListener('change', function() {
            const isYearly = this.checked;
            const priceDisplays = document.querySelectorAll('[id^="service-price-display-"], [id^="plan-price-display-"]');
            
            priceDisplays.forEach(display => {
                const priceEl = display.querySelector('.text-2xl, .text-4xl');
                if (priceEl) {
                    const currentPrice = parseFloat(priceEl.textContent.replace('$', ''));
                    let newPrice = currentPrice;
                    
                    if (isYearly) {
                        // Apply 20% discount for yearly
                        newPrice = (currentPrice * 12 * 0.8).toFixed(0);
                        display.querySelector('p').textContent = 'per year';
                    } else {
                        // Revert to monthly price
                        newPrice = (currentPrice / 12 / 0.8).toFixed(0);
                        display.querySelector('p').textContent = 'per month';
                    }
                    
                    // Animate the price change
                    priceEl.style.transform = 'translateY(-10px)';
                    priceEl.style.opacity = '0';
                    
                    setTimeout(() => {
                        priceEl.textContent = '$' + newPrice;
                        priceEl.style.transform = 'translateY(0)';
                        priceEl.style.opacity = '1';
                    }, 300);
                }
            });
        });
    }
    
    // Add tooltip functionality
    const featureItems = document.querySelectorAll('.feature-item');
    featureItems.forEach(item => {
        const featureText = item.querySelector('.feature-text');
        if (featureText) {
            item.classList.add('tooltip');
            item.setAttribute('data-tooltip', 'Click for more details');
        }
    });
});

document.head.appendChild(style);
</script>

{% csrf_token %}
{% endblock %}