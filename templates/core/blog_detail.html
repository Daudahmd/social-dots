{% extends "base.html" %}
{% load markdown_extras %}

{% block title %}{{ post.title }} - {{ site_config.site_name }}{% endblock %}
{% block meta_description %}{{ post.meta_description|default:post.excerpt|default:post.content|truncatewords:20 }}{% endblock %}

{% block extra_css %}
<style>
    .article-content h1,
    .article-content h1:first-child {
        font-size: 2.5rem !important;
        font-weight: 700 !important;
        margin: 2.5rem 0 1.5rem 0 !important;
        color: var(--primary) !important;
        line-height: 1.2 !important;
        display: block !important;
    }
    .article-content h2,
    .article-content h2:first-child {
        font-size: 2rem !important;
        font-weight: 600 !important;
        margin: 2rem 0 1rem 0 !important;
        color: var(--primary) !important;
        line-height: 1.3 !important;
        display: block !important;
    }
    .article-content h3,
    .article-content h3:first-child {
        font-size: 1.5rem !important;
        font-weight: 600 !important;
        margin: 1.5rem 0 0.75rem 0 !important;
        color: var(--primary) !important;
        line-height: 1.4 !important;
        display: block !important;
    }
    .article-content h4,
    .article-content h4:first-child {
        font-size: 1.25rem !important;
        font-weight: 600 !important;
        margin: 1.25rem 0 0.5rem 0 !important;
        color: var(--primary) !important;
        display: block !important;
    }
    .article-content p {
        margin-bottom: 1.25rem;
        line-height: 1.8;
        font-size: 1.125rem;
        color: var(--foreground);
    }
    .article-content p:first-of-type {
        font-size: 1.25rem;
        color: var(--muted-foreground);
        margin-bottom: 2rem;
    }
    .article-content ul, .article-content ol {
        margin-bottom: 1.5rem;
        padding-left: 2rem;
    }
    .article-content ul {
        list-style-type: disc;
    }
    .article-content ul ul {
        list-style-type: circle;
        margin-bottom: 0.5rem;
    }
    .article-content ol {
        list-style-type: decimal;
    }
    .article-content ol ol {
        list-style-type: lower-alpha;
        margin-bottom: 0.5rem;
    }
    .article-content li {
        margin-bottom: 0.75rem;
        line-height: 1.6;
        position: relative;
    }
    .article-content li::before {
        color: var(--accent);
        font-weight: 600;
    }
    .article-content ul li::marker {
        color: var(--accent);
    }
    .article-content ol li::marker {
        color: var(--primary);
        font-weight: 600;
    }
    .article-content blockquote {
        border-left: 4px solid var(--accent);
        padding-left: 1rem;
        margin: 1.5rem 0;
        font-style: italic;
        color: var(--secondary);
    }
    .article-content code {
        background: rgba(39, 84, 138, 0.1);
        padding: 0.2rem 0.4rem;
        border-radius: 0.25rem;
        font-family: 'Monaco', 'Consolas', monospace;
        font-size: 0.85em;
    }
    .article-content pre {
        background: rgba(39, 84, 138, 0.1);
        padding: 1rem;
        border-radius: 0.5rem;
        overflow-x: auto;
        margin: 1.5rem 0;
    }
    .article-content pre code {
        background: none;
        padding: 0;
    }
    .article-content strong {
        font-weight: 600;
        color: var(--primary);
    }
    .article-content em {
        font-style: italic;
        color: var(--muted-foreground);
    }
    .article-content hr {
        border: none;
        height: 2px;
        background: linear-gradient(90deg, transparent, var(--accent), transparent);
        margin: 3rem 0;
    }
    .article-content table {
        width: 100%;
        border-collapse: collapse;
        margin: 2rem 0;
        border-radius: 0.5rem;
        overflow: hidden;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    }
    .article-content th,
    .article-content td {
        padding: 1rem;
        text-align: left;
        border-bottom: 1px solid rgba(39, 84, 138, 0.1);
    }
    .article-content th {
        background: rgba(39, 84, 138, 0.05);
        font-weight: 600;
        color: var(--primary);
    }
    .article-content tr:hover {
        background: rgba(39, 84, 138, 0.02);
    }
</style>
{% endblock %}

{% block content %}
<!-- Blog Post Hero Section -->
<section class="relative overflow-hidden bg-gradient-to-br from-slate-50 via-white to-blue-50">
    <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-100/20 via-transparent to-transparent"></div>
    <div class="relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-24">
        <div class="space-y-8">
            <!-- Post Meta -->
            <div class="flex items-center flex-wrap gap-4 text-sm">
                <div class="flex items-center space-x-2 text-blue-600 bg-blue-50 px-3 py-1.5 rounded-full">
                    <i data-lucide="calendar" class="w-4 h-4"></i>
                    <span class="font-medium">{{ post.published_at|date:"F d, Y" }}</span>
                </div>
                {% if post.author %}
                <div class="flex items-center space-x-2 text-slate-600 bg-slate-50 px-3 py-1.5 rounded-full">
                    <i data-lucide="user" class="w-4 h-4"></i>
                    <span class="font-medium">{{ post.author.get_full_name|default:post.author.username }}</span>
                </div>
                {% endif %}
                <div class="flex items-center space-x-2 text-purple-600 bg-purple-50 px-3 py-1.5 rounded-full">
                    <i data-lucide="clock" class="w-4 h-4"></i>
                    <span class="font-medium">5 min read</span>
                </div>
            </div>

            <!-- Post Title -->
            <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold tracking-tight text-slate-900 leading-tight">
                {{ post.title }}
            </h1>

            <!-- Post Excerpt -->
            {% if post.excerpt %}
            <p class="text-xl text-slate-600 leading-relaxed max-w-3xl">
                {{ post.excerpt }}
            </p>
            {% endif %}

            <!-- Post Tags -->
            {% if post.tags %}
            <div class="flex flex-wrap gap-2 pt-4">
                {% for tag in post.tags %}
                <span class="px-4 py-2 bg-gradient-to-r from-blue-50 to-purple-50 text-blue-700 text-sm font-medium rounded-full border border-blue-200/50">
                    {{ tag }}
                </span>
                {% endfor %}
            </div>
            {% endif %}
        </div>
    </div>
</section>

<!-- Blog Post Content -->

    <div class="bg-white max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        
            <!-- Article Content -->
            <div class="px-8 py-12 lg:px-12">
                <div class="article-content text-slate-800 leading-relaxed">
                    {{ post.content|markdown_format|safe }}
                </div>
            </div>
        
    </div>


<!-- Related Posts Section -->
{% if related_posts %}
<section class="py-20 bg-gradient-to-br from-slate-50 to-blue-50">
    {% comment %} <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"> {% endcomment %}
        <div class="text-center mb-16">
            <h2 class="text-4xl font-bold text-slate-900 mb-4">Related Articles</h2>
            <p class="text-xl text-slate-600 max-w-2xl mx-auto">Discover more insights and strategies to grow your business</p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            {% for related_post in related_posts %}
            <article class="group bg-white rounded-2xl shadow-sm border border-slate-200/50 overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
                <!-- Post Image Placeholder -->
                <div class="h-48 bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 flex items-center justify-center relative overflow-hidden">
                    <div class="absolute inset-0 bg-black/10 group-hover:bg-black/5 transition-colors"></div>
                    <div class="relative z-10 text-white text-center">
                        <div class="w-16 h-16 mx-auto mb-3 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm">
                            <i data-lucide="{% if 'ai' in related_post.title.lower %}brain-circuit{% elif 'marketing' in related_post.title.lower %}megaphone{% elif 'strategy' in related_post.title.lower %}target{% elif 'salesforce' in related_post.title.lower %}database{% else %}file-text{% endif %}" class="w-8 h-8 text-white"></i>
                        </div>
                    </div>
                </div>

                <!-- Post Content -->
                <div class="p-8">
                    <!-- Post Meta -->
                    <div class="flex items-center space-x-3 text-sm text-slate-500 mb-4">
                        <i data-lucide="calendar" class="w-4 h-4"></i>
                        <span>{{ related_post.published_at|date:"M d, Y" }}</span>
                    </div>

                    <!-- Post Title -->
                    <h3 class="text-xl font-semibold text-slate-900 mb-3 group-hover:text-blue-600 transition-colors line-clamp-2">
                        <a href="/blog/{{ related_post.slug }}/">{{ related_post.title }}</a>
                    </h3>

                    <!-- Post Excerpt -->
                    <p class="text-slate-600 mb-6 line-clamp-3">
                        {{ related_post.excerpt|default:related_post.content|striptags|truncatewords:25 }}
                    </p>

                    <!-- Read More Link -->
                    <a href="/blog/{{ related_post.slug }}/" class="inline-flex items-center text-blue-600 hover:text-blue-700 font-semibold transition-colors group">
                        Read More
                        <i data-lucide="arrow-right" class="w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"></i>
                    </a>
                </div>
            </article>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- CTA Section -->
<section class="py-20 bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-700">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <div class="space-y-8">
            <div class="space-y-4">
                <h2 class="text-4xl md:text-5xl font-bold text-white leading-tight">
                    Ready to Transform Your Business?
                </h2>
                <p class="text-xl md:text-2xl text-white/90 max-w-3xl mx-auto leading-relaxed">
                    Join thousands of businesses already using our AI-powered solutions to achieve breakthrough results in weeks, not months.
                </p>
            </div>
            
            <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
                <a href="/contact/" class="inline-flex items-center justify-center px-8 py-4 bg-white text-blue-600 font-bold text-lg rounded-full hover:bg-slate-50 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1">
                    Get Started Today
                    <i data-lucide="arrow-right" class="w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"></i>
                </a>
                <a href="/demo/" class="inline-flex items-center justify-center px-8 py-4 bg-transparent border-2 border-white/30 text-white font-bold text-lg rounded-full hover:bg-white/10 transition-all duration-300">
                    Book a Demo
                    <i data-lucide="play" class="w-5 h-5 ml-2"></i>
                </a>
            </div>
            
            <div class="flex items-center justify-center space-x-8 text-white/70">
                <div class="flex items-center space-x-2">
                    <i data-lucide="check-circle" class="w-5 h-5"></i>
                    <span>30-day free trial</span>
                </div>
                <div class="flex items-center space-x-2">
                    <i data-lucide="users" class="w-5 h-5"></i>
                    <span>24/7 support</span>
                </div>
                <div class="flex items-center space-x-2">
                    <i data-lucide="shield" class="w-5 h-5"></i>
                    <span>Enterprise security</span>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    // Initialize Lucide icons for this page
    if (typeof lucide !== 'undefined') {
        lucide.createIcons();
    }
</script>
{% endblock %}